//#include "stdafx.h"
#include "../inc/global.h"


#ifdef WIN32
void LangPrnStrSetMode_Api(int mode){}
#endif

//----------------------------------------
// width X hight （pixel）: 153 x 85
//----------------------------------------
const char SudaPan[3000] = 
{
	0x14,0x7d,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0C, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x38, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x70, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0xE0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xC0, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x0F, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x1F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7E, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x01, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x60, 0x04, 
	0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x03, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x01, 0x20, 0x1C, 0x00, 0x03, 0x00, 0x88, 0x00, 0x00, 0x00, 0x07, 0xF0, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3C, 0x00, 0x01, 0x01, 0x98, 0x00, 0x00, 0x00, 0x0F, 
	0xE0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xF8, 0x00, 0x04, 0x81, 0x88, 
	0x00, 0x00, 0x00, 0x1F, 0xE0, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0xE0, 
	0x00, 0x06, 0x81, 0x88, 0x00, 0x00, 0x00, 0x3F, 0xC0, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x21, 0xC0, 0x00, 0x04, 0x81, 0x88, 0x00, 0x00, 0x00, 0x7F, 0xC0, 0x18, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x61, 0x00, 0x00, 0x00, 0x01, 0x88, 0x00, 0x00, 0x00, 0x7F, 
	0x80, 0x1C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x61, 0x00, 0x00, 0x00, 0x01, 0x88, 
	0x00, 0x00, 0x00, 0xFF, 0x80, 0x1C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x21, 0x00, 
	0x00, 0x00, 0x01, 0x88, 0x00, 0x00, 0x01, 0xFF, 0x80, 0x3C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x01, 0xE1, 0xFE, 0x00, 0x11, 0x11, 0x88, 0x00, 0x00, 0x01, 0xFF, 0x00, 0x3E, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xE1, 0xFF, 0x08, 0x11, 0x31, 0x88, 0x00, 0x00, 0x03, 0xFF, 
	0x00, 0x3E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xE1, 0xFF, 0x08, 0x33, 0x31, 0x88, 
	0x00, 0x00, 0x03, 0xFF, 0x00, 0x7E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x20, 0x03, 
	0x08, 0x13, 0x31, 0x88, 0x00, 0x00, 0x07, 0xFE, 0x00, 0x7F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x06, 0x20, 0x01, 0x08, 0x13, 0x31, 0x88, 0x00, 0x00, 0x07, 0xFE, 0x00, 0x7F, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0x20, 0x01, 0x08, 0x11, 0x31, 0x88, 0x00, 0x00, 0x07, 0xFE, 
	0x00, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x7F, 0xFF, 0xFD, 0xFF, 0xFF, 0x88, 
	0x00, 0x00, 0x0F, 0xFE, 0x00, 0xFF, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xFF, 0xFF, 
	0xFF, 0xFF, 0xFF, 0x88, 0x00, 0x00, 0x0F, 0xFE, 0x01, 0xFF, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x07, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x88, 0x00, 0x00, 0x0F, 0xFE, 0x01, 0xFF, 0x80, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xFC, 
	0x01, 0xFF, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x1F, 0xFC, 0x03, 0xFF, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xFC, 0x03, 0xFF, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xFC, 0x03, 0xFF, 0xE0, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xFC, 
	0x07, 0xFF, 0xE0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x1F, 0xFE, 0x07, 0xFF, 0xE0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xFE, 0x07, 0xFF, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xFE, 0x0F, 0xFF, 0xF0, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xFE, 
	0x0F, 0xFF, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x1F, 0xFE, 0x0F, 0xFF, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xFF, 0x1F, 0xFF, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xFF, 0x1F, 0xFF, 0xFC, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xFF, 
	0x1F, 0xFF, 0xFE, 0x00, 0x00, 0x00, 0x00, 0x00, 0x90, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x80, 
	0x00, 0x00, 0x1F, 0xFF, 0xBF, 0xFF, 0xFF, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x90, 0x00, 0x20, 0x00, 
	0x00, 0x00, 0x00, 0x88, 0x00, 0x00, 0x1F, 0xFF, 0xFF, 0xFF, 0xFF, 0xF0, 0x07, 0xE0, 0x00, 0x00, 
	0x00, 0x00, 0x60, 0x00, 0x00, 0x00, 0x01, 0x98, 0x00, 0x00, 0x0F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 
	0x00, 0x4C, 0x00, 0x00, 0x00, 0x04, 0x60, 0x00, 0x00, 0x00, 0x01, 0x98, 0x00, 0x00, 0x0F, 0x80, 
	0x00, 0xFF, 0xFF, 0xFE, 0x00, 0x3B, 0x00, 0x00, 0x00, 0x04, 0x60, 0x00, 0x00, 0x00, 0x01, 0x88, 
	0x00, 0x00, 0x08, 0x00, 0x00, 0x0F, 0xFF, 0xFF, 0x80, 0x1B, 0x00, 0x00, 0x10, 0x04, 0x60, 0x00, 
	0x00, 0x00, 0x01, 0x98, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xFF, 0xFF, 0xC0, 0x0D, 0x80, 0x00, 
	0x10, 0x00, 0x20, 0x00, 0x00, 0x00, 0x01, 0x98, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF, 
	0xE0, 0x0D, 0x80, 0x00, 0x10, 0x00, 0x60, 0x00, 0x00, 0x00, 0x01, 0x98, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x7F, 0xFF, 0xE0, 0x05, 0x80, 0x00, 0x10, 0x00, 0x60, 0x00, 0x00, 0x00, 0x01, 0x98, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3F, 0xFF, 0xF0, 0x04, 0x80, 0x00, 0x70, 0x22, 0x61, 0xF0, 
	0x28, 0x11, 0x11, 0x98, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xFF, 0xF8, 0x04, 0x80, 0x01, 
	0xF0, 0x66, 0x63, 0xF8, 0x78, 0x11, 0x31, 0x98, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0F, 0xFF, 
	0xF8, 0x07, 0x00, 0x01, 0xF0, 0x66, 0x63, 0xF8, 0xF8, 0x33, 0x31, 0x98, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x07, 0xFF, 0xF8, 0x05, 0x00, 0x01, 0x90, 0x66, 0x20, 0x1C, 0xC8, 0x33, 0x31, 0x98, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xFF, 0xFC, 0x0B, 0x00, 0x01, 0x10, 0x66, 0x60, 0x0C, 
	0x88, 0x33, 0x31, 0x98, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xFF, 0xFC, 0x0E, 0x00, 0x01, 
	0x10, 0x66, 0x20, 0x0C, 0x88, 0x33, 0x31, 0x98, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0xFF, 
	0xFC, 0x0E, 0x00, 0x03, 0x38, 0x66, 0x60, 0x0C, 0x88, 0x33, 0x31, 0x98, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x01, 0xFF, 0xFC, 0x1C, 0x00, 0x03, 0xFF, 0xFE, 0x67, 0xFC, 0xFF, 0xFF, 0xFF, 0x98, 
	0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0xFF, 0xFE, 0x18, 0x00, 0x03, 0xFF, 0xFE, 0x67, 0xFC, 
	0xFF, 0xFF, 0xFF, 0x98, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00, 0xFF, 0xFE, 0x38, 0x00, 0x00, 
	0x00, 0x00, 0x24, 0x00, 0x18, 0x00, 0x00, 0x88, 0x00, 0x00, 0x00, 0x0F, 0x80, 0x00, 0x00, 0x7F, 
	0xFE, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0F, 
	0xC0, 0x00, 0x00, 0x7F, 0xFE, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x1F, 0xE0, 0x00, 0x00, 0x7F, 0xFE, 0xC0, 0x00, 0x00, 0x01, 0x40, 0x00, 0x00, 
	0x30, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xF0, 0x00, 0x00, 0x7F, 0xFE, 0xC0, 0x00, 0x00, 
	0x01, 0x40, 0x00, 0x00, 0xE0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xF8, 0x00, 0x00, 0x7F, 
	0xFF, 0x80, 0x00, 0x00, 0x01, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3F, 
	0xF8, 0x00, 0x00, 0x3F, 0xFD, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x3F, 0xFC, 0x00, 0x00, 0x3F, 0xFA, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7F, 0xFC, 0x00, 0x00, 0x3F, 0xFC, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7F, 0xFE, 0x00, 0x00, 0x3F, 
	0xF4, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 
	0xFE, 0x00, 0x00, 0x3F, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x02, 0xFF, 0xFE, 0x00, 0x00, 0x3F, 0xDC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0xFF, 0xFE, 0x00, 0x00, 0x3F, 0xFC, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09, 0xFF, 0xFE, 0x00, 0x00, 0x3F, 
	0x38, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x11, 0xFF, 
	0xFE, 0x00, 0x00, 0x3F, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x21, 0xFF, 0xFE, 0x00, 0x00, 0x3E, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x43, 0xFF, 0xFE, 0x00, 0x00, 0x3F, 0xF8, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x83, 0xFF, 0xFE, 0x00, 0x00, 0x7F, 
	0xF0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x07, 0xFF, 
	0xFE, 0x00, 0x00, 0x7F, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x02, 0x07, 0xFF, 0xFE, 0x00, 0x00, 0x7F, 0xF0, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0x07, 0xFF, 0xFC, 0x00, 0x00, 0xBF, 0xF0, 0x00, 0xF8, 0x30, 
	0x61, 0xF8, 0x07, 0x03, 0xF8, 0x0E, 0x07, 0x0C, 0x00, 0x0C, 0x0F, 0xFF, 0xFC, 0x00, 0x00, 0xFF, 
	0xF8, 0x01, 0xBC, 0x30, 0x61, 0x7C, 0x05, 0x82, 0x6C, 0x0A, 0x07, 0x0C, 0x00, 0x18, 0x0F, 0xFF, 
	0xFC, 0x00, 0x00, 0xFF, 0xF8, 0x03, 0xF4, 0x30, 0x61, 0xFE, 0x07, 0x83, 0xF2, 0x1A, 0x07, 0x0C, 
	0x00, 0x30, 0x0F, 0xFF, 0xF8, 0x00, 0x01, 0xFF, 0xFC, 0x03, 0x8C, 0x30, 0x61, 0x8E, 0x06, 0x83, 
	0x8A, 0x1E, 0x07, 0x8C, 0x00, 0x60, 0x1F, 0xFF, 0xF8, 0x00, 0x01, 0xFF, 0xFC, 0x03, 0x0C, 0x30, 
	0x61, 0x87, 0x04, 0x83, 0x86, 0x12, 0x07, 0x8C, 0x00, 0x60, 0x1F, 0xFF, 0xF8, 0x00, 0x03, 0xFF, 
	0xFC, 0x03, 0x00, 0x30, 0x61, 0x87, 0x05, 0x82, 0x86, 0x13, 0x05, 0x8C, 0x00, 0xC0, 0x3F, 0xFF, 
	0xF0, 0x00, 0x03, 0xFF, 0xFE, 0x03, 0x00, 0x30, 0x61, 0x85, 0x0D, 0x83, 0x86, 0x11, 0x04, 0x8C, 
	0x01, 0x80, 0x3F, 0xFF, 0xF0, 0x00, 0x07, 0xFF, 0xFE, 0x03, 0x80, 0x30, 0x61, 0x87, 0x0C, 0xC3, 
	0x86, 0x33, 0x04, 0xCC, 0x03, 0x80, 0x3F, 0xFF, 0xE0, 0x00, 0x07, 0xFF, 0xFE, 0x02, 0xC0, 0x30, 
	0x61, 0x83, 0x0C, 0xC3, 0x86, 0x33, 0x04, 0xCC, 0x03, 0x00, 0x7F, 0xFF, 0xE0, 0x00, 0x0F, 0xFF, 
	0xFF, 0x03, 0xF0, 0x30, 0x61, 0x83, 0x08, 0xC3, 0x8E, 0x33, 0x04, 0xCC, 0x07, 0x00, 0x7F, 0xFF, 
	0xC0, 0x00, 0x1F, 0xFF, 0xFF, 0x01, 0xD8, 0x30, 0x61, 0x83, 0x08, 0xC3, 0x9E, 0x33, 0x84, 0x4C, 
	0x0A, 0x00, 0xFF, 0xFF, 0xC0, 0x00, 0x1F, 0xFF, 0xFF, 0x80, 0xCC, 0x30, 0x61, 0x83, 0x18, 0xC3, 
	0xE6, 0x21, 0x84, 0x6C, 0x0A, 0x00, 0xFF, 0xFF, 0x80, 0x00, 0x3F, 0xFF, 0xFF, 0x80, 0x7C, 0x30, 
	0x61, 0x83, 0x18, 0xE3, 0x7C, 0x21, 0x84, 0x6C, 0x1E, 0x00, 0xFF, 0xFF, 0x80, 0x00, 0x7F, 0xFF, 
	0xFF, 0x80, 0x16, 0x30, 0x61, 0x83, 0x18, 0xE3, 0x80, 0x61, 0x84, 0x6C, 0x1C, 0x01, 0xFF, 0xFF, 
	0x00, 0x00, 0x7F, 0xFF, 0xFF, 0xC0, 0x0E, 0x30, 0x61, 0x87, 0x1F, 0xA2, 0x80, 0x7F, 0x84, 0x3C, 
	0x3C, 0x01, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xC0, 0x0E, 0x30, 0x61, 0x87, 0x17, 0xE3, 
	0x80, 0x7F, 0x84, 0x3C, 0x3C, 0x01, 0xFF, 0xFE, 0x00, 0x01, 0xFF, 0xFF, 0xFF, 0xC3, 0x0E, 0x30, 
	0x61, 0x87, 0x3F, 0xE3, 0x80, 0x7F, 0xC4, 0x3C, 0x2C, 0x03, 0xFF, 0xFC, 0x00, 0x03, 0xFF, 0xFF, 
	0xFF, 0xE7, 0x0E, 0x38, 0x61, 0x8E, 0x30, 0x63, 0x80, 0x41, 0xC4, 0x3C, 0x2C, 0x03, 0xFF, 0xFC, 
	0x00, 0x07, 0xFF, 0xFF, 0xFF, 0xE3, 0x8C, 0x28, 0xA1, 0x8A, 0x30, 0x73, 0x80, 0xC0, 0xC4, 0x1C, 
	0x2C, 0x07, 0xFF, 0xF8, 0x00, 0x07, 0xFF, 0xFF, 0xFF, 0xF2, 0xFC, 0x2F, 0xC1, 0xFA, 0x30, 0x73, 
	0x80, 0xC0, 0xC4, 0x1C, 0x26, 0x07, 0xFF, 0xF0, 0x00, 0x0F, 0xFF, 0xFF, 0xFF, 0xF1, 0xCC, 0x13, 
	0xC1, 0xCC, 0x30, 0x31, 0x80, 0xC0, 0xC4, 0x14, 0x3B, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xFF, 0xFF, 
	0xFF, 0xF1, 0xF8, 0x1F, 0x81, 0xF8, 0x70, 0x33, 0x80, 0xC0, 0xE4, 0x1C, 0x1B, 0x00, 0x00, 0x00, 
	0x00, 0x3F, 0xFF, 0xFF, 0xFF, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x0F, 0xC0, 0x00, 0x00, 0x00, 0x7F, 0xE0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0xF8, 0x00, 0x00, 0x00, 0xFF, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0xFF, 0x80, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x03, 0xFE, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x07, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0F, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xC0, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x3F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x7C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0xC0, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00
};
 
void prnShieldPanCardNum(u8 flag, char *prtCard, const char *cardNum)
{
	u8 cardlen;
	
	strcpy(prtCard, cardNum);
	if(flag)
	{
		cardlen = strlen(cardNum);
		if(cardlen > 10)
		{
			if(flag == 1)
				memset(prtCard+6, '*', cardlen-4-6);
			else
				memset(prtCard, '*', cardlen-4);
		}
	}
}
 
void PrintMerchantName(void)
{
	char PrnBuf[128];

	memset(PrnBuf, 0, sizeof(PrnBuf));

	if(gCtrlParam.Lang == ARABIC_LANG)
		memcpy(PrnBuf, "اسم التاجر: ", strlen("اسم التاجر: "));
	else
		sprintf(PrnBuf, "%s", "Merchant Name: ");
	
	sprintf(PrnBuf+strlen((char*)PrnBuf), "%s", gCtrlParam.MerchantName);
	PrnStr_Api(PrnBuf);
}
 
void PrnFormatCardNum(char *pOutput, char *pCardNO, LOG_STRC *pLog, u8 inputmode, u8 ifSecondCard)
{
	prnShieldPanCardNum(gCtrlParam.ShieldPAN, pOutput, pCardNO);
	//
	if( (pLog->IccFallBack)&&(ifSecondCard == 0) )	// 
	{
		strcat(pOutput, " (F)");
	}
	else if(inputmode == PAN_KEYIN)// 
	{
		strcat(pOutput, " (M)");
	}
	else if(inputmode == PAN_ICCARD)// 
	{
		strcat(pOutput, " (I)");
	}
	else if(inputmode == PAN_MAGCARD)// 
	{
		// strcat(pOutput, " (S)");
	}
}
 

void PrnDefaultFont(int flag)
{
	if(gCtrlParam.Lang == ARABIC_LANG){
		if(flag == 0){
			PrnFontSet_Api(32, 0, 1);
			LangPrnStrSetMode_Api(8);				// Right Aligned
		}
		else{
			PrnFontSet_Api(32, 0, 1);
			LangPrnStrSetMode_Api(4);				// Centered
		}
		PrnSpeedSet_Api(5);
		PrnLineSpaceSet_Api(20, 0);
		// PrnHTSet_Api(1);
	}
	else{
		if(flag == 0){
			PrnFontSet_Api(24, 0, 0);
			LangPrnStrSetMode_Api(2);				// Left Aligned
			PrnLeftIndSet_Api(0);
		}
		else{
			PrnFontSet_Api(24, 0, 1);
			PrnLeftIndSet_Api(110);					// Centered
		}
		// PrnHTSet_Api(0);
		PrnSpeedSet_Api(15);
		PrnLineSpaceSet_Api(8, 0);
	}
}

int PrintSign()
{
	u8 *bitmapdata = NULL, tSignLog[1024];
	int ret, wide, high, datalen;
	int len = 1000, slen;
	
	memset(tSignLog, 0, sizeof(tSignLog));
	ret = ReadFile_Api(SIGNFILE, (u8 *)tSignLog, 0, &len);
	
	slen = tSignLog[0]*256+tSignLog[1];
	if((ret != 0) || (len != slen+2))
	{
		DelFile_Api(SIGNFILE);
		return -1;
	}

	JBIGMemDecode_Api(tSignLog+2, slen, &bitmapdata, &datalen, &wide, &high);
	
	PrnLeftIndSet_Api(80);
	
	ret = PrnLogo_Api(bitmapdata, 0);
	
	PrnLeftIndSet_Api(0);
	free(bitmapdata);
	//DelFile_Api(SIGNFILE);  ��һ�ʽ�����ǩ��ʱ��ɾ
	return ret;
}

void PrnLines(int num){
	int i;
	// if(gCtrlParam.Lang == ARABIC_LANG){
	// 	SetLang_Api(ENGLISH_LANG, 3);
	// 	for (i = 0; i < num; i++)
	// 		PrnStr_Api(" ");		
	// 	SetLang_Api(ARABIC_LANG, 3);
	// }
	// else{
	for (i = 0; i < num; i++)
		PrnStr_AE(" ", " ", NULL, 0);		
	// }
}

void PrnStr_AE(u8 *strE, u8 *strA, u8 *content, int flag)
{
	u8 tmp[512];

	memset(tmp, 0, sizeof(tmp));
	if(content == NULL)
	{
		if(gCtrlParam.Lang == ARABIC_LANG){			
			SetLang_Api(ARABIC_LANG, 3);
			PrnStr_Api(strA);
			SetLang_Api(ENGLISH_LANG, 3);
		}
		else
			PrnStr_Api(strE);
	}
	else
	{
		if(gCtrlParam.Lang == ARABIC_LANG)
		{
			if(flag == 0)
			{
				sprintf(tmp, "%s%s", strA, content);
				SetLang_Api(ARABIC_LANG, 3);
				PrnStr_Api(tmp);
			}
			else
			{
				SetLang_Api(ARABIC_LANG, 3);
				PrnStr_Api(strA);
				PrnStr_Api(content);
			}
			SetLang_Api(ENGLISH_LANG, 3);		
		}
		else
		{
			sprintf(tmp, "%s%s", strE, content);
			PrnStr_Api(tmp);
		}
	}
}

int PrtTicket_Hot(LOG_STRC *pLog, u8 bErrPrint, u8 bRePrint, u8 curpage)
{
	char PrnBuf[128], sTemp[128];

	// CommDebugInfo("DBG", "ONE", 3, 0);
	PrnClrBuff_Api();
	PrnSetGray_Api(15);
	PrnDefaultFont(0);
	PrnLeftIndSet_Api(120);
	PrnLogo_Api((u8*)SudaPan, 0);
	PrnLeftIndSet_Api(0);
	PrnLines(1);

	// PrnFontSet_Api(24, 0, 0x01);
	PrnDefaultFont(1);
	// PrnHTSet_Api(1);

	// memset(sTemp,0,sizeof(sTemp));
	memset(PrnBuf, 0, sizeof(PrnBuf));
	ConverTranNameEn(pLog->Trans_id, (char*)PrnBuf);		// &sTemp[strlen(sTemp)]
	// sprintf(PrnBuf,"%s",sTemp);
	PrnStr_AE(PrnBuf, PrnBuf, NULL, 0);
	
	// PrnLeftIndSet_Api(0);
	PrnDefaultFont(0);		
	// LangPrnStrSetMode_Api(8);
	PrnLines(1);		
 

	// memset(PrnBuf, 0, sizeof(PrnBuf));

	// if(gCtrlParam.Lang == ARABIC_LANG)
	// 	memcpy(PrnBuf, "اسم التاجر: ", strlen("اسم التاجر: "));
	// else
	// 	sprintf(PrnBuf, "%s", "Merchant Name: ");
	
	// sprintf(PrnBuf+strlen((char*)PrnBuf), "%s", gCtrlParam.MerchantName);
	PrnStr_AE("Merchant Name: ", "اسم التاجر: ", gCtrlParam.MerchantName, 0);
	// memset(sTemp,0,sizeof(sTemp));
	// PrintMerchantName();
	/**********************************/
	// if(gCtrlParam.Lang == ARABIC_LANG)
	// 	strcpy(sTemp, "اسم التاجر: ");
	// else
	// 	strcpy(sTemp, "Merchant Name: ");
	
	// sprintf(PrnBuf, "%s: %s", sTemp, gCtrlParam.MerchantName);
	// sprintf(PrnBuf,"%s",sTemp);
	// PrnStr_Api(sTemp);
	// PrnStr_Api("ACTS Merchant");
	// PrnStr_AE("Merchant Name: ", "اسم التاجر: ", NULL, 0);
	// PrnStr_AE("Merchant Name: ", "التاريخ", NULL, 0);
	// PrnStr_AE("Merchant Name: ", "رقم البطاقة", NULL, 0);
	// PrnStr_Api("صاحب البطاقة");
	
	
	/**********************************/

	// CommDebugInfo("DBG", "TWO", 3, 0);
	// LangPrnStrSetMode_Api(8);

	memset(PrnBuf, 0, sizeof(PrnBuf));
	// if(gCtrlParam.Lang == ARABIC_LANG)
	// 	memcpy(PrnBuf, "رقم الجهاز: ", strlen("رقم الجهاز: "));
	// else
	// 	memcpy(PrnBuf, "Terminal No: ", 13);
	// sprintf_str(PrnBuf, "Ternmial No: ", "رقم الجهاز: ", pLog->TerminalNo);		// do memcpy
	// strcpy(PrnBuf, "رقم الجهاز: ");
	// CommDebugInfo("DBG", "MEM", 3, 0);
	sprintf(PrnBuf, "%s", pLog->TerminalNo);
	// CommDebugInfo("DBG", "CPY", 3, 0);
	PrnStr_AE("Terminal No: ", "رقم الجهاز: ", PrnBuf, 0);
	// PrnStr_Api(pLog->TerminalNo);


	// CommDebugInfo("DBG", "THR", 3, 0);
	memset(sTemp,0,sizeof(sTemp));
	memset(PrnBuf, 0, sizeof(PrnBuf));
	
	BcdToAsc_Api(sTemp, pLog->TradeDate, 8);							 
	BcdToAsc_Api(&sTemp[8], pLog->TradeTime, 6);
	Lstrcpy(PrnBuf, "me: ", "يخ: ");
	memcpy(PrnBuf+4, &sTemp[0], 4);
	memcpy(PrnBuf+8, "/", 1);
	memcpy(PrnBuf+9, &sTemp[4], 2);
	memcpy(PrnBuf+11, "/", 1);
	memcpy(PrnBuf+12, &sTemp[6], 2);
	memcpy(PrnBuf+14, " ", 1);
	memcpy(PrnBuf+15, &sTemp[8], 2);
	memcpy(PrnBuf+17, ":", 1);
	memcpy(PrnBuf+18, &sTemp[10], 2);
	memcpy(PrnBuf+20, ":", 1);
	memcpy(PrnBuf+21, &sTemp[12], 2);
	PrnBuf[23] = 0;
	memset(sTemp,0,sizeof(sTemp));
	sprintf(sTemp, "%s", PrnBuf);


    // PrnHTSet_Api(1);
	// PrnStr_Api(sTemp);
	PrnStr_AE("DateTi", "التار", sTemp, 0);

	if(pLog->SecondAcc[0] != 0)
		PrnStr_Api("(TRANSFER OUT): ");

	memset(sTemp,0,sizeof(sTemp));
	memset(PrnBuf, 0, sizeof(PrnBuf));

	PrnFormatCardNum(sTemp, pLog->MainAcc, pLog, pLog->EntryMode[0], 0);
	sprintf(PrnBuf, "%s", sTemp);
	

	// PrnHTSet_Api(1);
	// PrnStr_Api(PrnBuf);
	PrnStr_AE("Card No: ", "رقم البطاقة: ", PrnBuf, 0);
	// PrnDefaultFont(0);

	// memset(sTemp,0,sizeof(sTemp));
	memset(PrnBuf, 0, sizeof(PrnBuf));
	sprintf(PrnBuf, "%s", pLog->HoldCardName);
	// PrnStr_Api(PrnBuf);
	PrnStr_AE( "Card Holder: ", "صاحب البطاقة: ", PrnBuf, 0);
 
	memset(PrnBuf, 0, sizeof(PrnBuf));
	if(memcmp(pLog->ExpDate, "\x0\x0", 2) != 0)
		sprintf(PrnBuf, "(EXP DATE): %02x/%02x", pLog->ExpDate[0], pLog->ExpDate[1]);
	
	// CommDebugInfo("DBG", "FOU", 3, 0);
	PrnLines(1);
	if(bErrPrint == 0)
		PrnStr_AE("--- Successfull Transaction ----", "--------- المعاملة ناجحة -------", NULL, 0);
	else
		PrnStr_AE("------ Transaction Failed ------", "--------- المعاملة فشلت --------", NULL, 0);

	
	PrnLines(1);
	// PrnHTSet_Api(1);
	memset(PrnBuf, 0, sizeof(PrnBuf));
	// if(gCtrlParam.Lang == ARABIC_LANG)
	sprintf(PrnBuf, "%d", pLog->ResponseCode);
	// else
		// sprintf(PrnBuf, "Response Code:  %d", pLog->ResponseCode);
	
	// sprintf_float(PrnBuf, "Response Code:  %d", "رقم الاستجابة: %d", pLog->ResponseCode);	
	PrnStr_AE("Response Code: ", "رقم الاستجابة: ", PrnBuf, 0);

	memset(PrnBuf, 0, sizeof(PrnBuf));
	PrnStr_AE("Response Message:", "رسالة الاستجابة:", NULL, 0);	
	// PrnStr_Api(PrnBuf);
	PrnStr_AE(pLog->ResponseMessage, pLog->ResponseMessage, NULL, 0);

	memset(PrnBuf, 0, sizeof(PrnBuf));
	// if(gCtrlParam.Lang == ARABIC_LANG)
	sprintf(PrnBuf,  "%06d", pLog->ResTraceNo);
	// else
		// sprintf(PrnBuf, "Trace Audit No:  %06d", pLog->ResTraceNo);
	PrnStr_AE("Trace Audit No: ", "رقم تتبع النظام: ", PrnBuf, 0);	
	// PrnStr_Api(PrnBuf);
 
	if(bErrPrint == 0)	 
	{
		memset(PrnBuf, 0, sizeof(PrnBuf));
		sprintf(PrnBuf, "%s", pLog->ReferenceNo);	
		PrnStr_AE("Reference No: ", "رقم المرجع: ", PrnBuf, 0);

		memset(PrnBuf, 0, sizeof(PrnBuf));
		sprintf(PrnBuf, "%s", pLog->ApprovalCode);	
		PrnStr_AE("Approval Code: ", "رمز التحقق: ", PrnBuf, 0);
	}
	
	// PrnFontSet_Api(24, 24, 0);
	// FormatAmtToDisp_Api(sTemp, pLog->tranAmount, 0);
	memset(PrnBuf, 0, sizeof(PrnBuf));
	sprintf(PrnBuf, "%0.2f SDG", pLog->tranamount);
	// PrnHTSet_Api(2);
	PrnStr_AE("Amount: ", "المبلغ: ", PrnBuf, 0);
	// PrnFontSet_Api(24, 24, 0);

	
	memset(PrnBuf, 0, sizeof(PrnBuf));
	sprintf(PrnBuf, "%0.2f SDG", pLog->TranFee);
	PrnStr_AE("Fees: ", "العمولة: ", PrnBuf, 0);
	// PrnDefaultFont(0);
	
	// CommDebugInfo("DBG", "FIV", 3, 0);
	PrnLines(1);
	// if(bErrPrint == 0)
	// {
	if(curpage == 0)
		PrnStr_AE("-------- Merchant Copy ---------", "--------- نسخة التاجر ---------", NULL, 0);
	else if(curpage == 1)
		PrnStr_AE("--------- Customer Copy --------", "---------- نسخة الزبون --------", NULL, 0);
	else 
		PrnStr_Api("                      BANK COPY");
	// }
	PrnLines(3);
	return 0;
}

void LPrnStr_Api(char* strE, char* strA){
	
	if(gCtrlParam.Lang == ARABIC_LANG)
		PrnStr_Api(strA);
	else	
		PrnStr_Api(strE);
	
}

void sprintf_str(char* des, char* strE, char* strA, char* val){
	if(gCtrlParam.Lang == ARABIC_LANG)
		sprintf(des, strA, val);
	else
		sprintf(des, strE, val);
}

void sprintf_float(char* des, char* strE, char* strA, fp32 val){
	if(gCtrlParam.Lang == ARABIC_LANG)
		sprintf(des, strA, val);
	else
		sprintf(des, strE, val);
}

int PrtTicket(LOG_STRC *pLog, u8 bErrPrint, u8 bRePrint)
{
	u8 j; 
	int key, ret;
	// char PrnBuf[128], sTemp[128];

	// memset(PrnBuf, 0, sizeof(PrnBuf));
	// memset(sTemp, 0, sizeof(sTemp));

	for(j = 0 ; j < 2; j ++)
	{
		ScrCls_Api();
		if(j != 0)	 
		{
			LScrDisp_AE(LINE3, 0, "Print Customer Copy?", "طباعة نسخة الزبون؟", CDISP);
			LScrDisp_AE(LINE5, 0, "No      Yes", "نعم       لا", CDISP);
			KBFlush_Api();
			do
			{
				key = WaitEnterAndEscKey_Api(30);
			} while (key == -2);

			if(key == ESC)				 
				return ESC;
		}
		else
		{
			LScrDisp_AE(LINE3, 0, "Print Merchant Copy?", "طباعة نسخة التاجر؟", FDISP|CDISP);
			LScrDisp_AE(LINE5, 0, "No      Yes", "نعم       لا", CDISP);
			do
			{
				key = WaitEnterAndEscKey_Api(30);
			} while (key == -2);

			if(key == ESC)				 
				continue;
		}//END OF ELSE
		
		// if(gCtrlParam.Lang == ARABIC_LANG)
		// 	SetLang_Api(ARABIC_LANG, 3);

		// PrnSetPrnOutType_Api(1);
		// PrnClrBuff_Api();
		// PrnSetGray_Api(15);
		// PrnSpeedSet_Api(5);
		PrtTicket_Hot(pLog, bErrPrint, bRePrint, j);
		ret = PrintData();
	}
	// SetLang_Api(ENGLISH_LANG, 3);
	return ret;
}
 

int PrintData(void)
{
	int key, ret, tran_id=0;

	while(1)
	{
		ScrCls_Api();
		LScrDisp_AE(LINE3, 0, "Printing", "جاري الطباعة", FDISP|CDISP); 		
		ret = PrnStart_Api();
		ScrCls_Api();
		switch(ret)
		{
			case 0:
				PrnClrBuff_Api();
				return 0;
				break;
			case 2:
				LScrDisp_AE(LINE3, 0, "Paper Out", "ورق الطباعة قد انتهى", CDISP);
				if(PaperOut == REPORT_PAPER_OUT){
					tran_id = PosCom.stTrans.Trans_id;
					PosCom.stTrans.Trans_id = POS_PAPER_OUT;
					OnlineTransProcess();
					PosCom.stTrans.Trans_id = tran_id;
				}
				break;
			case 3:
				LScrDisp_AE(LINE3, 0, "printer too hot", "درجة حرارة الطابعة مرتفعة", CDISP); 
				break;
			case 4:
				ScrDisp_Api(LINE2, 0, "put your phone back", CDISP);
				ScrDisp_Api(LINE3, 0, "press any key to continue", CDISP);
				break;
			default:
				LScrDisp_AE(LINE2, 0, "print problem", "خطأ في الطباعة", CDISP);
				LScrDisp_AE(LINE3, 0, "press ENTER to retry", "اضغط ادخال لاعادة المحاولة", CDISP);
				break;
		}
		
		key = WaitAnyKey_Api(100);
		if(key == TIMEOUT || key == ESC)
		{
			PrnClrBuff_Api();
			if(key == ESC)
				return ESC;
			return -1;
		}
	}
}
 